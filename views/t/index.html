{{extend 'layout.html'}}

<div class="progress">  
  
  <div class="bar" style="width:{{=progress}}%;">
    <span class="label">{{=progress or 0}}%</span>
    {{pass}}
    
  </div>
</div>


<div class="btn-group pull-right" data-toggle="buttons-radio">

  {{ vars = dict(dict(state='active'),**request.vars)}}

  {{=A('Tareas Activas', _href=URL(f='list.load', vars=vars), cid='task_list_container', _class='btn active primary btn-mini')}}
  
  {{ vars = dict(dict(state='any'),**request.vars)}}

  {{=A('Todas', _href=URL('list.load', vars=vars), cid='task_list_container', _class='btn  btn-mini')}}

</div>

<button id="btn_new_task" class="btn btn-large btn-inverse"  onclick="jQuery('#task_new_container').slideToggle();">Nueva Tarea</button>


{{=LOAD(f='new.load', args=request.args, 
                    vars=dict(p=request.vars.p),
                    target='task_new_container',
                    _class='container-fluid', ajax=True, 
                    _style='display:none;' if (not request.args) else 'display:block;',
                    content=XML('Cargando Tareas... (Si no carga haz %s)' %
                                A('clic aquÃ­', _href=URL(f='list.html', 
                                                         vars=request.vars))),
                    )
}}


  
{{=LOAD(f='list.load', vars=dict(p=request.vars.p),
target='task_list_container', ajax=True)}}
